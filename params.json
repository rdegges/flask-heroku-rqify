{"name":"flask-heroku-rqify","tagline":"Automatic RQ configuration for your Heroku Flask applications.","body":"# flask-heroku-rqify\r\n\r\nAutomatic RQ configuration for your Heroku Flask applications.\r\n\r\n![Worker Sketch](https://raw.github.com/rdegges/flask-heroku-rqify/master/assets/worker-sketch.jpg)\r\n\r\n\r\n## Purpose\r\n\r\n[RQ](http://python-rq.org/) is a lightweight, simple, and efficient Python\r\nlibrary for queueing jobs and processing them in the background with workers.\r\nIt uses [Redis](http://redis.io/) as a back end.\r\n\r\n`flask-heroku-rqify` handles all RQ configuration for you, so that you can get\r\nyour application processing asynchronous tasks with only a single line of code!\r\n\r\nIn addition to make configuration easier, `flask-heroku-rqify` also allows you\r\nto seamlessly switch your Heroku Redis provider instantly, with no downtime.  By\r\nanalyzing which Redis addons your Heroku application has available, and\r\nautomatically configuring RQ to use these addons, you can easily swap your Redis\r\nproviders around without touching a single line of code!\r\n\r\n\r\n## Install\r\n\r\nTo install `flask-heroku-rqify`, use [pip](http://pip.readthedocs.org/en/latest/).\r\n\r\n```bash\r\n$ pip install flask-heroku-rqify\r\n```\r\n\r\nNext, modify your `requirements.txt` file in your home directory, and add the\r\nfollowing to the bottom of your file:\r\n\r\n```bash\r\nFlask-Heroku-RQify>=0.1\r\n```\r\n\r\n\r\n## Pick an Addon\r\n\r\nHeroku has lots of available Redis addons.  `flask-heroku-rqify` works with\r\nthem all!  That means no matter which option you choose, your queue will work\r\nout of the box, guaranteed!\r\n\r\nBelow is a list of the addons you can install to get started, you should have at\r\nleast one of these activated on your Heroku app -- otherwise,\r\n`flask-heroku-rqify` will attempt to connect to your default Redis instance\r\nrunning locally (good for local development).\r\n\r\n- [RedisGreen](https://addons.heroku.com/redisgreen)\r\n- [MyRedis](https://addons.heroku.com/myredis)\r\n- [Redis Cloud](https://addons.heroku.com/rediscloud)\r\n- [Redis To Go](https://addons.heroku.com/redistogo)\r\n- [openredis](https://addons.heroku.com/openredis)\r\n\r\n**NOTE**: My favorite providers are openredis and RedisGreen.\r\n\r\n\r\n## Usage\r\n\r\nUsing `flask-heroku-rqify` is *super easy*!  In your `app.py` (or wherever\r\nyou define your Flask application), add the following:\r\n\r\n```python\r\nfrom flask.ext.rqify import init_rqify\r\n\r\napp = Flask(__name__)\r\ninit_rqify(app)\r\n```\r\n\r\nTo define tasks, you can do the following:\r\n\r\n```python\r\nfrom flask.ext.rq import job\r\n\r\n@job\r\ndef process(i):\r\n    # process stuff...\r\n```\r\n\r\nTo use the task defined above, you could do:\r\n\r\n```python\r\n>>> process.delay(2)\r\n```\r\n\r\nOnce you've defined your tasks, it's now time to boot up a worker process!  To\r\ndo this, we'll use the\r\n[Flask-Script](http://flask-script.readthedocs.org/en/latest/) extension (which\r\nis installed automatically by `flask-heroku-rqify`).  In your project directory,\r\ncreate a new file named `manage.py`, and add the following:\r\n\r\n```python\r\nfrom flask.ext.rq import get_worker\r\nfrom flask.ext.script import Manager\r\n\r\nfrom myapp import app\r\n\r\n\r\nmanager = Manager(app)\r\n\r\n\r\n@manager.command\r\ndef work():\r\n    \"\"\"Process the queue.\"\"\"\r\n    get_worker().work()\r\n\r\n\r\nif __name__ == '__main__':\r\n    manager.run()\r\n```\r\n\r\nThen modify your `Procfile`, and add the following line:\r\n\r\n```\r\nworker: python manage.py work\r\n```\r\n\r\nNow, to start processing your tasks on your new worker, you can finally just\r\nspin up a new worker process using `heroku scale`:\r\n\r\n```bash\r\n$ heroku scale worker=1\r\n```\r\n\r\nIf you'd like to process your queue faster, you can add more workers at any\r\ntime:\r\n\r\n```bash\r\n$ heroku scale worker=10\r\n```\r\n\r\nHow does this work?  In the background, `flask-heroku-rqify` is really just\r\nautomatically configuring the popular\r\n[Flask-RQ](https://flask-rq.readthedocs.org/en/latest/) extension!  This means,\r\nyou can basically read through the [official\r\ndocumentation](https://flask-rq.readthedocs.org/en/latest/) to learn more about\r\nRQ, how it works, and how Flask-RQ works.\r\n\r\n\r\n## Like This?\r\n\r\nLike this software?  If you really enjoy `flask-heroku-rqify`, you can show\r\nyour appreciation by:\r\n\r\n- Sending me some bitcoin, my address is: **166UZk46Y6sLBj2br1whB9mvzxQD2EVfUp**\r\n- Tipping me on [gittip](https://www.gittip.com/rdegges/).\r\n\r\nEither way, thanks!  <3\r\n\r\n\r\n## Changelog\r\n\r\nv0.1: 04-21-2013\r\n\r\n    - Pushing first release to PyPI!\r\n    - Adding `init_rqify` handler to auto-configure Flask-RQ.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}